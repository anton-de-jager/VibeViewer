"use strict";(self.webpackChunkvibeViewer=self.webpackChunkvibeViewer||[]).push([[890],{8890:(be,A,r)=>{r.r(A),r.d(A,{AuthSignUpModule:()=>we});var _=r(2510),T=r(4859),S=r(6709),u=r(9549),y=r(7392),w=r(4144),C=r(1572),J=r(5804),N=r(7775),Q=r(5524),x=r(5861),l=r(4006),I=r(7423),E=r(3844),U=r(6090),Z=r(5938),P=r(1050),v=r(6388),Y=r(529),p=r(7489),V=r(3951),k=r(4327),e=r(4650),R=r(6429),H=r(6362),$=r(1299),j=r(5830),L=r(3071),M=r(2494),F=r(6895),h=r(7084),O=r(4385),G=r(3238),K=r(430);const D=["signUpNgForm"];function z(i,a){if(1&i&&(e.TgZ(0,"fuse-alert",19),e._uU(1),e.qZA()),2&i){const t=e.oxw(2);e.Q6J("appearance","outline")("showIcon",!1)("type",t.alert.type)("@shake","error"===t.alert.type),e.xp6(1),e.hij(" ",t.alert.message," ")}}function B(i,a){if(1&i&&(e.TgZ(0,"mat-option",37),e._uU(1),e.qZA()),2&i){const t=a.$implicit,n=e.oxw(2).$implicit;e.Q6J("value",t.id),e.xp6(1),e.hij(" ",n(t.description),"")}}function W(i,a){if(1&i&&(e.TgZ(0,"mat-error"),e._uU(1),e.qZA()),2&i){const t=e.oxw(3).$implicit;e.xp6(1),e.hij(" ",t("required")," ")}}function X(i,a){if(1&i&&(e.TgZ(0,"mat-form-field",22)(1,"mat-label"),e._uU(2),e.qZA(),e._UZ(3,"input",38),e.YNc(4,W,2,1,"mat-error",28),e.qZA()),2&i){const t=e.oxw(2).$implicit,n=e.oxw();e.xp6(2),e.Oqu(t("establishment_name")),e.xp6(1),e.Q6J("formControlName","name"),e.xp6(1),e.Q6J("ngIf",n.signUpForm.get("name").hasError("required"))}}function ee(i,a){if(1&i&&(e.TgZ(0,"mat-error"),e._uU(1),e.qZA()),2&i){const t=e.oxw(3).$implicit;e.xp6(1),e.hij(" ",t("required")," ")}}function te(i,a){if(1&i&&(e.TgZ(0,"mat-form-field",22)(1,"mat-label"),e._uU(2),e.qZA(),e._UZ(3,"textarea",39),e.YNc(4,ee,2,1,"mat-error",28),e.qZA()),2&i){const t=e.oxw(2).$implicit,n=e.oxw();e.xp6(2),e.Oqu(t("description")),e.xp6(1),e.Q6J("formControlName","description"),e.xp6(1),e.Q6J("ngIf",n.signUpForm.get("description").hasError("required"))}}function ie(i,a){if(1&i&&(e.TgZ(0,"mat-error"),e._uU(1),e.qZA()),2&i){const t=e.oxw(3).$implicit;e.xp6(1),e.hij("",t("required")," ")}}function oe(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"mat-form-field",22)(1,"mat-label"),e._uU(2),e.qZA(),e.TgZ(3,"input",40),e.NdJ("click",function(){e.CHM(t);const o=e.oxw(3);return e.KtG(o.getAddress())}),e.qZA(),e.TgZ(4,"button",41),e.NdJ("click",function(){e.CHM(t);const o=e.oxw(3);return e.KtG(o.getAddress())}),e.TgZ(5,"mat-icon"),e._uU(6,"search"),e.qZA()(),e.YNc(7,ie,2,1,"mat-error",28),e.qZA()}if(2&i){const t=e.oxw(2).$implicit,n=e.oxw();e.xp6(2),e.Oqu(t("address")),e.xp6(5),e.Q6J("ngIf",n.signUpForm.get("address").hasError("required"))}}function ne(i,a){if(1&i&&(e.TgZ(0,"mat-error"),e._uU(1),e.qZA()),2&i){const t=e.oxw(2).$implicit;e.xp6(1),e.hij(" ",t("required")," ")}}function re(i,a){if(1&i&&(e.TgZ(0,"mat-error"),e._uU(1),e.qZA()),2&i){const t=e.oxw(2).$implicit;e.xp6(1),e.hij(" ",t("validation")," ")}}function ae(i,a){if(1&i&&(e.TgZ(0,"mat-error"),e._uU(1),e.qZA()),2&i){const t=e.oxw(3).$implicit;e.xp6(1),e.hij(" ",t("required")," ")}}function se(i,a){if(1&i&&(e.TgZ(0,"mat-form-field",22)(1,"mat-label"),e._uU(2),e.qZA(),e._UZ(3,"mat-icon",26)(4,"input",27),e.YNc(5,ae,2,1,"mat-error",28),e.qZA()),2&i){const t=e.oxw(2).$implicit,n=e.oxw();e.xp6(2),e.Oqu(t("phone")),e.xp6(1),e.Q6J("svgIcon","heroicons_solid:phone"),e.xp6(1),e.Q6J("formControlName","phone"),e.xp6(1),e.Q6J("ngIf",n.signUpForm.get("phone").hasError("required"))}}function le(i,a){if(1&i&&(e.TgZ(0,"mat-error"),e._uU(1),e.qZA()),2&i){const t=e.oxw(3).$implicit;e.xp6(1),e.hij(" ",t("required")," ")}}function me(i,a){if(1&i&&(e.TgZ(0,"mat-form-field",22)(1,"mat-label"),e._uU(2),e.qZA(),e._UZ(3,"mat-icon",42)(4,"input",27),e.YNc(5,le,2,1,"mat-error",28),e.qZA()),2&i){const t=e.oxw(2).$implicit,n=e.oxw();e.xp6(2),e.Oqu(t("www")),e.xp6(2),e.Q6J("formControlName","web"),e.xp6(1),e.Q6J("ngIf",n.signUpForm.get("web").hasError("required"))}}function pe(i,a){1&i&&e._UZ(0,"mat-icon",43),2&i&&e.Q6J("svgIcon","heroicons_solid:eye")}function ce(i,a){1&i&&e._UZ(0,"mat-icon",43),2&i&&e.Q6J("svgIcon","heroicons_solid:eye-off")}function ge(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"img",50),e.NdJ("click",function(){e.CHM(t);const o=e.oxw(4);return e.KtG(o.captureImage())}),e.qZA()}if(2&i){const t=e.oxw(4);e.Q6J("src",t.previewImage,e.LSH)}}function ue(i,a){if(1&i&&e._UZ(0,"img",51),2&i){const t=e.oxw(4);e.Q6J("src",t.imagesFolder+"Users/"+t.signUpForm.value.id+t.signUpForm.value.urlImage+"?t="+t.timestamp,e.LSH)}}function de(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"img",52),e.NdJ("click",function(){e.CHM(t);const o=e.oxw(4);return e.KtG(o.captureImage())}),e.qZA()}}function fe(i,a){if(1&i&&(e.TgZ(0,"mat-error",53),e._uU(1),e.qZA()),2&i){const t=e.oxw(3).$implicit;e.xp6(1),e.hij(" ",t("required")," ")}}function _e(i,a){if(1&i&&(e.TgZ(0,"div",44)(1,"div",45),e.YNc(2,ge,1,1,"img",46),e.YNc(3,ue,1,1,"img",47),e.YNc(4,de,1,0,"img",48),e.qZA(),e.YNc(5,fe,2,1,"mat-error",49),e.qZA()),2&i){const t=e.oxw(3);e.xp6(2),e.Q6J("ngIf",t.previewImage),e.xp6(1),e.Q6J("ngIf",!t.previewImage&&t.signUpForm.value.urlImage),e.xp6(1),e.Q6J("ngIf",!t.previewImage&&!t.signUpForm.value.urlImage),e.xp6(1),e.Q6J("ngIf",!t.fileToUpload&&t.submitClicked)}}function he(i,a){if(1&i&&(e.TgZ(0,"mat-form-field",22)(1,"mat-label"),e._uU(2),e.qZA(),e._UZ(3,"input",54),e.qZA()),2&i){const t=e.oxw(2).$implicit;e.xp6(2),e.Oqu(t("referral_email")),e.xp6(1),e.Q6J("formControlName","referralEmail")}}function xe(i,a){if(1&i&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&i){const t=e.oxw(2).$implicit;e.xp6(1),e.hij(" ",t("create_your_account")," ")}}function Ue(i,a){1&i&&e._UZ(0,"mat-progress-spinner",55),2&i&&e.Q6J("diameter",24)("mode","indeterminate")}function Ze(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"form",20,21)(2,"mat-form-field",22)(3,"mat-label"),e._uU(4),e.qZA(),e.TgZ(5,"mat-select",23),e.NdJ("selectionChange",function(o){e.CHM(t);const s=e.oxw(2);return e.KtG(s.venueTypeChanged(o))}),e.YNc(6,B,2,2,"mat-option",24),e.qZA(),e.TgZ(7,"mat-error"),e._uU(8),e.qZA()(),e.YNc(9,X,5,3,"mat-form-field",25),e.YNc(10,te,5,3,"mat-form-field",25),e.YNc(11,oe,8,2,"mat-form-field",25),e.TgZ(12,"mat-form-field",22)(13,"mat-label"),e._uU(14),e.qZA(),e._UZ(15,"mat-icon",26)(16,"input",27),e.YNc(17,ne,2,1,"mat-error",28),e.YNc(18,re,2,1,"mat-error",28),e.qZA(),e.YNc(19,se,6,4,"mat-form-field",25),e.YNc(20,me,6,3,"mat-form-field",25),e.TgZ(21,"mat-form-field",22)(22,"mat-label"),e._uU(23),e.qZA(),e._UZ(24,"input",29,30),e.TgZ(26,"button",31),e.NdJ("click",function(){e.CHM(t);const o=e.MAs(25);return e.KtG(o.type="password"===o.type?"text":"password")}),e.YNc(27,pe,1,1,"mat-icon",32),e.YNc(28,ce,1,1,"mat-icon",32),e.qZA(),e.TgZ(29,"mat-error"),e._uU(30),e.qZA(),e.TgZ(31,"mat-error"),e._uU(32," Minimum 8 Characters "),e.qZA()(),e.YNc(33,_e,6,4,"div",33),e.YNc(34,he,4,2,"mat-form-field",25),e.TgZ(35,"button",34),e.NdJ("click",function(){e.CHM(t);const o=e.oxw(2);return e.KtG(o.signUp())}),e.YNc(36,xe,2,1,"span",28),e.YNc(37,Ue,1,2,"mat-progress-spinner",35),e.qZA(),e.TgZ(38,"button",36),e.NdJ("click",function(){e.CHM(t);const o=e.oxw(2);return e.KtG(o.home())}),e._uU(39),e.qZA()()}if(2&i){const t=e.MAs(25),n=e.oxw().$implicit,o=e.oxw();e.Q6J("formGroup",o.signUpForm),e.xp6(4),e.Oqu(n("establishment_type")),e.xp6(1),e.s9C("placeholder",n("establishment_type")),e.xp6(1),e.Q6J("ngForOf",o.userTypeList),e.xp6(2),e.Oqu(n("required")),e.xp6(1),e.Q6J("ngIf","463af20d-e093-4ca0-9ac1-23909de39f9c"!==o.signUpForm.value.userTypeId&&""!==o.signUpForm.value.userTypeId),e.xp6(1),e.Q6J("ngIf","463af20d-e093-4ca0-9ac1-23909de39f9c"!==o.signUpForm.value.userTypeId&&""!==o.signUpForm.value.userTypeId),e.xp6(1),e.Q6J("ngIf","463af20d-e093-4ca0-9ac1-23909de39f9c"!==o.signUpForm.value.userTypeId&&""!==o.signUpForm.value.userTypeId),e.xp6(3),e.Oqu(n("email")),e.xp6(1),e.Q6J("svgIcon","heroicons_solid:mail"),e.xp6(1),e.Q6J("formControlName","email"),e.xp6(1),e.Q6J("ngIf",o.signUpForm.get("email").hasError("required")),e.xp6(1),e.Q6J("ngIf",o.signUpForm.get("email").hasError("email")),e.xp6(1),e.Q6J("ngIf","463af20d-e093-4ca0-9ac1-23909de39f9c"!==o.signUpForm.value.userTypeId&&""!==o.signUpForm.value.userTypeId),e.xp6(1),e.Q6J("ngIf","463af20d-e093-4ca0-9ac1-23909de39f9c"!==o.signUpForm.value.userTypeId&&""!==o.signUpForm.value.userTypeId),e.xp6(3),e.Oqu(n("password")),e.xp6(1),e.Q6J("formControlName","password"),e.xp6(3),e.Q6J("ngIf","password"===t.type),e.xp6(1),e.Q6J("ngIf","text"===t.type),e.xp6(2),e.hij(" ",n("required")," "),e.xp6(3),e.Q6J("ngIf","463af20d-e093-4ca0-9ac1-23909de39f9c"!==o.signUpForm.value.userTypeId&&""!==o.signUpForm.value.userTypeId),e.xp6(1),e.Q6J("ngIf","463af20d-e093-4ca0-9ac1-23909de39f9c"!==o.signUpForm.value.userTypeId&&""!==o.signUpForm.value.userTypeId&&!o.referralEmailExists),e.xp6(1),e.Q6J("color","primary")("disabled",o.signUpForm.disabled),e.xp6(1),e.Q6J("ngIf",!o.signUpForm.disabled),e.xp6(1),e.Q6J("ngIf",o.signUpForm.disabled),e.xp6(2),e.hij(" ",n("home")," ")}}const ve=function(){return["/sign-in"]};function Ae(i,a){if(1&i&&(e.ynx(0),e.TgZ(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4),e._UZ(5,"img",5),e.qZA(),e.TgZ(6,"div",6),e._uU(7,"Sign up"),e.qZA(),e.TgZ(8,"div",7)(9,"div"),e._uU(10),e.qZA(),e.TgZ(11,"a",8),e._uU(12),e.qZA()(),e.YNc(13,z,2,5,"fuse-alert",9),e.YNc(14,Ze,40,27,"form",10),e._UZ(15,"hr"),e.TgZ(16,"div",11)(17,"div",12),e._uU(18,"FAQ's"),e.qZA()(),e.TgZ(19,"div",13)(20,"div",14)(21,"mat-accordion",15)(22,"mat-expansion-panel")(23,"mat-expansion-panel-header",16)(24,"mat-panel-title",17),e._uU(25,"Pricing"),e.qZA()(),e.TgZ(26,"table",18)(27,"tbody")(28,"tr")(29,"td"),e._uU(30,"Users"),e.qZA(),e.TgZ(31,"td"),e._uU(32,"FREE"),e.qZA()(),e.TgZ(33,"tr")(34,"td"),e._uU(35,"Resellers"),e.qZA(),e.TgZ(36,"td"),e._uU(37,"FREE"),e.qZA()(),e.TgZ(38,"tr")(39,"td"),e._uU(40,"Venue Subscription"),e.qZA(),e.TgZ(41,"td"),e._uU(42,"R350.00 p/m"),e.qZA()(),e.TgZ(43,"tr")(44,"td"),e._uU(45,"Promotions"),e.qZA(),e.TgZ(46,"td"),e._uU(47,"1 FREE promotion per week. $5.00 per additional promotion."),e.qZA()()()()(),e.TgZ(48,"mat-expansion-panel")(49,"mat-expansion-panel-header",16)(50,"mat-panel-title",17),e._uU(51,"Reseller Commission "),e.qZA()(),e.TgZ(52,"ul")(53,"li"),e._uU(54,"Resellers will receive 10% of any amount paid by a venue referred by the reseller."),e.qZA(),e.TgZ(55,"li"),e._uU(56,"This includes monthly subscriptions as well as promotions."),e.qZA(),e.TgZ(57,"li"),e._uU(58,"Commission payments are made to their PayPal accounts."),e.qZA(),e.TgZ(59,"li"),e._uU(60," A PayPal Email can be set up on the Profile Page."),e.qZA(),e.TgZ(61,"li"),e._uU(62,"Payments are made every Monday at 08:00 (GMT+2)"),e.qZA()()(),e.TgZ(63,"mat-expansion-panel")(64,"mat-expansion-panel-header",16)(65,"mat-panel-title",17),e._uU(66,"Cancellation Policy "),e.qZA()(),e.TgZ(67,"ul")(68,"li"),e._uU(69,"Venues are not bound to any contract. They are able to cancel at any time."),e.qZA(),e.TgZ(70,"li"),e._uU(71,"Upon cancellation, the account will remain active until the next billing cycle. "),e.qZA()()(),e.TgZ(72,"mat-expansion-panel")(73,"mat-expansion-panel-header",16)(74,"mat-panel-title",17),e._uU(75,"Promotions"),e.qZA()(),e.TgZ(76,"ul")(77,"li"),e._uU(78,"Promotions can be scheduled when a venue user is logged in."),e.qZA(),e.TgZ(79,"li"),e._uU(80,"On the promotion date, push notifications are sent to all users within a 10km radius of the venue."),e.qZA(),e.TgZ(81,"li"),e._uU(82,"Users will have the option to mute notifications from selected venues."),e.qZA(),e.TgZ(83,"li"),e._uU(84,"Promotions will also appear on the promotion-page on the day of the event."),e.qZA(),e.TgZ(85,"li"),e._uU(86,"Venues are allowed to submit only one promotion per day."),e.qZA()()(),e.TgZ(87,"mat-expansion-panel")(88,"mat-expansion-panel-header",16)(89,"mat-panel-title",17),e._uU(90,"Trial Period"),e.qZA()(),e.TgZ(91,"ul")(92,"li"),e._uU(93,"Venues are given a 14 day trial period - where they will be able to familiarise themselves with Vibe Viewer."),e.qZA(),e.TgZ(94,"li"),e._uU(95,"All functionality is enabled during the trial period."),e.qZA(),e.TgZ(96,"li"),e._uU(97,"After 14 days the venue will no longer be displayed on the home page if payment is not made before then."),e.qZA()()(),e.TgZ(98,"mat-expansion-panel")(99,"mat-expansion-panel-header",16)(100,"mat-panel-title",17),e._uU(101,"Search Page (Home) "),e.qZA()(),e.TgZ(102,"ul")(103,"li"),e._uU(104,"Users are able to filter by Venue Type, Distance from their current location or selected location and Rating."),e.qZA(),e.TgZ(105,"li"),e._uU(106,"Users are able to sort results by Distance, Total Vibes or Average Vibe per Rating Segment."),e.qZA()()(),e.TgZ(107,"mat-expansion-panel")(108,"mat-expansion-panel-header",16)(109,"mat-panel-title",17),e._uU(110,"Reviews"),e.qZA()(),e.TgZ(111,"ul")(112,"li"),e._uU(113,"Reviews are real-time - displaying the date and time of the review."),e.qZA(),e.TgZ(114,"li"),e._uU(115,"Reviews are removed 30 hours after it was submitted."),e.qZA(),e.TgZ(116,"li"),e._uU(117,"The device's camera is used to take a photo, and Ratings are submitted for Vibe, Quality, Price and Child Friendliness."),e.qZA(),e.TgZ(118,"li"),e._uU(119,"Users are enabled to submit reviews only when they are inside the venue."),e.qZA(),e.TgZ(120,"li"),e._uU(121,"Users are allowed to submit only one review per venue per day."),e.qZA(),e.TgZ(122,"li"),e._uU(123,"All reviews are anonymous."),e.qZA()()()()()()()()(),e.BQk()),2&i){const t=a.$implicit,n=e.oxw();e.xp6(10),e.Oqu(t("already_have_account")),e.xp6(1),e.Q6J("routerLink",e.DdM(12,ve)),e.xp6(1),e.hij("",t("sign_in")," "),e.xp6(1),e.Q6J("ngIf",n.showAlert),e.xp6(1),e.Q6J("ngIf",n.signUpForm),e.xp6(9),e.Q6J("collapsedHeight","56px"),e.xp6(26),e.Q6J("collapsedHeight","56px"),e.xp6(15),e.Q6J("collapsedHeight","56px"),e.xp6(9),e.Q6J("collapsedHeight","56px"),e.xp6(15),e.Q6J("collapsedHeight","56px"),e.xp6(11),e.Q6J("collapsedHeight","56px"),e.xp6(9),e.Q6J("collapsedHeight","56px")}}const Te={enableHighAccuracy:!0,timeout:25e3,maximumAge:0},ye=[{path:"",component:(()=>{class i{constructor(t,n,o,s,m,c,Ce,Ie,Fe){var g=this;this._formBuilder=t,this._router=n,this.eventEmitterService=o,this.fuseSplashScreenService=s,this.variableService=m,this.dialog=c,this.apiService=Ce,this.userService=Ie,this.route=Fe,this.alert={type:"success",message:""},this.showAlert=!1,this.previewImage=null,this.userTypeList=[],this.submitClicked=!1,this.showPlayStore="web"===I.dV.getPlatform(),this.referral="",this.referralEmailExists=!1,this.route.queryParams.subscribe(d=>{void 0!==d.r&&(localStorage.setItem("referralEmail",d.r),this.referral=d.r,this.referralEmailExists=!0)}),""==this.referral&&void 0!==localStorage.getItem("referralEmail")&&(this.referral=localStorage.getItem("referralEmail"),this.referralEmailExists=!0),s.show(),this.getUserTypes().then(function(){var d=(0,x.Z)(function*(b){g.userTypeList=b.sort((f,q)=>f.order>q.order?1:-1),("web"===I.dV.getPlatform()||"granted"===(yield U.b.checkPermissions()).location||"granted"===(yield U.b.requestPermissions()).location)&&U.b.getCurrentPosition(Te).then(f=>{g.location={lat:f.coords.latitude,lon:f.coords.longitude},g.signUpForm=g._formBuilder.group({userTypeId:["",l.kI.required],name:[""],description:[""],lat:[g.location.lat],lon:[g.location.lon],address:[""],email:[void 0!==localStorage.getItem("loginEmail")?localStorage.getItem("loginEmail"):"",[l.kI.required,l.kI.email]],referralEmail:[g.referral,[l.kI.email]],phone:[""],web:[""],password:[void 0!==localStorage.getItem("loginPassword")?localStorage.getItem("loginPassword"):"",[l.kI.required,l.kI.minLength(8)]],confirmPassword:[""],urlImage:[""],avatarChanged:[!1]}),s.hide()})});return function(b){return d.apply(this,arguments)}}())}ngOnInit(){}getUserTypes(){return new Promise(n=>{try{this.apiService.getItem("userTypes").subscribe(o=>{n(o)})}catch{n([])}})}venueTypeChanged(t){(0,p.upperCase)(t.value)==(0,p.upperCase)("463af20d-e093-4ca0-9ac1-23909de39f9c")?(this.signUpForm.get("name").clearValidators(),this.signUpForm.get("description").clearValidators(),this.signUpForm.get("address").clearValidators(),this.signUpForm.get("address").clearValidators()):(this.signUpForm.get("name").setValidators(l.kI.required),this.signUpForm.get("description").setValidators(l.kI.required),this.signUpForm.get("address").setValidators(l.kI.required),this.signUpForm.get("address").setValidators(l.kI.required))}getAddress(){const t=new Z.vA;t.data={label:"Enter Address",address:this.signUpForm.controls.address.value,lat:this.signUpForm.controls.lat.value,lon:this.signUpForm.controls.lon.value},t.autoFocus=!0,t.disableClose=!0,t.hasBackdrop=!0,t.ariaLabel="fffff",t.width="100vw",t.maxWidth="800px",t.panelClass="full-screen-modal",this.dialog.open(P.S,t).afterClosed().subscribe(o=>{o&&(this.signUpForm.controls.lat.setValue(o.location.lat),this.signUpForm.controls.lon.setValue(o.location.lon),this.signUpForm.controls.address.setValue(o.address))})}signUp(){this.submitClicked=!0,console.log(this.signUpForm.controls.userTypeId.value),console.log(this.signUpForm),!this.signUpForm.invalid&&(this.fileToUpload||(0,p.upperCase)(this.signUpForm.controls.userTypeId.value)===(0,p.upperCase)("463AF20D-E093-4CA0-9AC1-23909DE39F9C"))&&((0,p.upperCase)(this.signUpForm.controls.userTypeId.value)==(0,p.upperCase)("463AF20D-E093-4CA0-9AC1-23909DE39F9C")&&this.signUpForm.controls.name.setValue("Reseller"),this.signUpForm.disable(),this.showAlert=!1,this.signUpForm.controls.urlImage.setValue("."),this.referralEmailExists&&this.signUpForm.controls.referralEmail.setValue(localStorage.getItem("referralEmail")),this.signUpForm.controls.confirmPassword.setValue(this.signUpForm.controls.password.value),(0,p.upperCase)(this.signUpForm.controls.userTypeId.value)==(0,p.upperCase)("463AF20D-E093-4CA0-9AC1-23909DE39F9C")&&(this.signUpForm.controls.lat.setValue(this.location.lat),this.signUpForm.controls.lon.setValue(this.location.lon)),this.userService.signup(this.signUpForm.value).subscribe({next:t=>{"00000000-0000-0000-0000-000000000000"!=t?(localStorage.setItem("loginEmail",this.signUpForm.controls.email.value),localStorage.setItem("loginPassword",this.signUpForm.controls.password.value),this.fileToUpload?this.uploadFile(this.fileToUpload,t+"."+this.fileToUpload.name.split(".").pop()).then(n=>{this.showNotification("Confirmation Required","A confirmation link has been sent to your email address.<br>Please confirm your email address to activate your account.","home")}):this.showNotification("Confirmation Required","A confirmation link has been sent to your email address.<br>Please confirm your email address to activate your account.","home")):(this.signUpForm.enable(),this.alert={type:"error",message:t},this.showAlert=!0)},error:t=>{this.signUpForm.enable(),this.alert={type:"error",message:"Something went wrong, please try again."},this.showAlert=!0}}))}showNotification(t,n,o){const s=new Z.vA;s.data={title:t,body:n},s.autoFocus=!0,s.disableClose=!0,s.hasBackdrop=!0,s.ariaLabel="fffff",s.width="100vw",s.maxWidth="800px",s.panelClass="full-screen-modal";const m=this.dialog.open(k.x,s);null!==o&&m.afterClosed().subscribe(c=>{this._router.navigateByUrl("/"+o)})}captureImage(){var t=this;return(0,x.Z)(function*(){v.V1.getPhoto({quality:100,allowEditing:!1,source:v.oK.Prompt,resultType:v.dk.Base64,height:1e3}).then(function(){var o=(0,x.Z)(function*(s){t.previewImage=`data:image/jpeg;base64,${s.base64String}`;const m=yield t.variableService.resizeImage({file:t.dataURLtoFile(`data:image/jpeg;base64,${s.base64String}`),maxSize:1e3});t.fileToUpload=t.dataURLtoFile(m),t.signUpForm.controls.avatarChanged.setValue(!0)});return function(s){return o.apply(this,arguments)}}(),o=>{console.log(o)})})()}dataURLtoFile(t){for(var n=t.split(","),o=n[0].match(/:(.*?);/)[1],s=atob(n[1]),m=s.length,c=new Uint8Array(m);m--;)c[m]=s.charCodeAt(m);return new File([c],"file."+o.replace("image/",""),{type:o})}uploadFile(t,n){return new Promise(s=>{try{const m=new FormData;m.append("file",t),this.apiService.upload("users",m,n).subscribe(c=>{c.type===Y.dt.Response&&s(!0)})}catch{s(!1)}})}paypal(){V.A.open({url:"https://www.paypal.com"})}home(){this.eventEmitterService.onChangePage("home"),this._router.navigate(["home"])}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(l.qu),e.Y36(_.F0),e.Y36(R.Y),e.Y36(H.j),e.Y36($.S),e.Y36(Z.uw),e.Y36(j.s),e.Y36(L.K),e.Y36(_.gz))},i.\u0275cmp=e.Xpm({type:i,selectors:[["auth-sign-up"]],viewQuery:function(t,n){if(1&t&&e.Gf(D,5),2&t){let o;e.iGM(o=e.CRH())&&(n.signUpNgForm=o.first)}},decls:1,vars:0,consts:[[4,"transloco"],[1,"flex","flex-col","flex-auto","items-center","sm:justify-center","min-w-0"],[1,"w-full","sm:w-auto","py-8","px-4","sm:p-12","sm:rounded-2xl","sm:shadow","sm:bg-card"],[1,"w-full","max-w-80","sm:w-80","mx-auto","sm:mx-0"],[1,"w-12"],["src","assets/images/logo/logo-text.png"],[1,"mt-8","text-4xl","font-extrabold","tracking-tight","leading-tight"],[1,"flex","items-baseline","mt-0.5","font-medium"],[1,"ml-1","text-primary-500","hover:underline",3,"routerLink"],["class","mt-8 -mb-4",3,"appearance","showIcon","type",4,"ngIf"],["class","mt-8",3,"formGroup",4,"ngIf"],[1,"inline-flex","items-center","justify-between","w-full","mt-1.5"],[1,"text-4xl","font-extrabold","tracking-tight","leading-tight"],[1,"flex","flex-wrap","items-start","w-full",2,"margin-top","14px","margin-bottom","16px"],[1,"flex","flex-col","w-full","max-w"],[1,"max-w"],[3,"collapsedHeight"],[1,"font-medium","leading-tight"],[1,"table","table-striped","table-bordered"],[1,"mt-8","-mb-4",3,"appearance","showIcon","type"],[1,"mt-8",3,"formGroup"],["signUpNgForm","ngForm"],[1,"w-full"],["formControlName","userTypeId",3,"placeholder","selectionChange"],[3,"value",4,"ngFor","ngForOf"],["class","w-full",4,"ngIf"],["matPrefix","",1,"icon-size-5",3,"svgIcon"],["matInput","",3,"formControlName"],[4,"ngIf"],["id","password","matInput","","type","password",3,"formControlName"],["passwordField",""],["mat-icon-button","","type","button","matSuffix","",3,"click"],["class","icon-size-5",3,"svgIcon",4,"ngIf"],["fxLayout","","fxLayoutAlign","center center","style","margin-top:4px; margin-bottom:4px; cursor: pointer; text-align: center;",4,"ngIf"],["mat-flat-button","",1,"fuse-mat-button-large","w-full","mt-6",3,"color","disabled","click"],[3,"diameter","mode",4,"ngIf"],["mat-flat-button","",1,"fuse-mat-button-large","w-full","mt-6",3,"click"],[3,"value"],["id","name","matInput","",3,"formControlName"],["id","description","matInput","",3,"formControlName"],["readonly","","matInput","","placeholder","Address","formControlName","address","id","address",3,"click"],["matSuffix","","mat-button","",3,"click"],["svgIcon","mat_outline:computer","matPrefix","",1,"icon-size-5"],[1,"icon-size-5",3,"svgIcon"],["fxLayout","","fxLayoutAlign","center center",2,"margin-top","4px","margin-bottom","4px","cursor","pointer","text-align","center"],[1,"image-box"],["class","image-picker",3,"src","click",4,"ngIf"],["class","image-picker","click)","captureImage()",3,"src",4,"ngIf"],["class","image-placeholder","src","assets/images/add-image.png",3,"click",4,"ngIf"],["style","margin-top: 10px; text-align: center;",4,"ngIf"],[1,"image-picker",3,"src","click"],["click)","captureImage()",1,"image-picker",3,"src"],["src","assets/images/add-image.png",1,"image-placeholder",3,"click"],[2,"margin-top","10px","text-align","center"],["id","referralEmail","matInput","",3,"formControlName"],[3,"diameter","mode"]],template:function(t,n){1&t&&e.YNc(0,Ae,124,13,"ng-container",0)},dependencies:[_.yS,T.lW,u.TO,u.KE,u.hX,u.qo,u.R9,y.Hw,w.Nt,C.Ou,M.W,F.sg,F.O5,l._Y,l.Fj,l.JJ,l.JL,l.sg,l.u,h.pp,h.ib,h.yz,h.yK,O.gD,G.ey,K.KI],encapsulation:2,data:{animation:E.L}}),i})()}];let we=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({imports:[_.Bz.forChild(ye),T.ot,S.p9,u.lN,y.Ps,w.c,C.Cq,J.J,N.fC,Q.m]}),i})()}}]);