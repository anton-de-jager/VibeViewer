"use strict";(self.webpackChunkvibeViewer=self.webpackChunkvibeViewer||[]).push([[949],{2949:(z,u,o)=>{o.r(u),o.d(u,{DashboardModule:()=>N});var s=o(2510),x=o(2340),l=o(3098),_=o(7489),p=o(4327),g=o(5938),e=o(4650),h=o(7495),f=o(6362),b=o(6429),w=o(1299),Z=o(7420),T=o(5830),I=o(6895),C=o(4859),Q=o(7392),S=o(2494),J=o(430);function y(r,n){if(1&r){const i=e.EpF();e.TgZ(0,"fuse-alert",6)(1,"span",7),e._uU(2,"Complete Subscription"),e.qZA(),e._uU(3),e.TgZ(4,"button",8),e.NdJ("click",function(){e.CHM(i);const c=e.oxw(3);return e.KtG(c.subscribe())}),e._uU(5,"Re-Send Subscription Email "),e.qZA()()}if(2&r){const i=e.oxw(3);e.Q6J("type","warn")("appearance","fill"),e.xp6(3),e.hij(" Your trial ends in ",i.daysLeft," days "),e.xp6(1),e.Q6J("color","default")}}function U(r,n){if(1&r&&(e.TgZ(0,"div",9)(1,"div",10)(2,"div",11)(3,"div",12)(4,"div",13),e._UZ(5,"img",14),e.qZA(),e.TgZ(6,"div",15)(7,"div",16),e._uU(8),e.qZA()()()()()()),2&r){const i=e.oxw(3);e.xp6(5),e.Q6J("src",i.imagesFolder+"Users/"+i.user.id+i.user.urlImage+"?t="+i.timestamp,e.LSH),e.xp6(3),e.hij(" ",i.user.name,"")}}function A(r,n){1&r&&(e.TgZ(0,"div",17),e._uU(1," Earnings will be displayed here soon ;) "),e.qZA())}function D(r,n){if(1&r&&(e.TgZ(0,"div",17)(1,"div",18)(2,"div",19)(3,"div",20)(4,"a",21),e.NdJ("click",function(){return!1}),e.TgZ(5,"div",22)(6,"div",23),e._uU(7),e.qZA()(),e.TgZ(8,"div",22)(9,"div",24),e._uU(10),e.qZA(),e.TgZ(11,"div",25),e._UZ(12,"mat-icon",26)(13,"mat-icon",26)(14,"mat-icon",26)(15,"mat-icon",26)(16,"mat-icon",26),e.qZA()()(),e.TgZ(17,"a",21),e.NdJ("click",function(){return!1}),e.TgZ(18,"div",22)(19,"div",23),e._uU(20),e.qZA()(),e.TgZ(21,"div",22)(22,"div",24),e._uU(23),e.qZA(),e.TgZ(24,"div",27),e._uU(25),e.TgZ(26,"span"),e._uU(27),e.qZA()()()()(),e._UZ(28,"hr"),e.TgZ(29,"div",28)(30,"a",21),e.NdJ("click",function(){return!1}),e.TgZ(31,"div",22)(32,"div",29)(33,"div",25),e._UZ(34,"mat-icon",26)(35,"mat-icon",26)(36,"mat-icon",26)(37,"mat-icon",26)(38,"mat-icon",26),e.qZA()(),e.TgZ(39,"div",30),e._uU(40),e.qZA()()(),e.TgZ(41,"a",21),e.NdJ("click",function(){return!1}),e.TgZ(42,"div",22)(43,"div",24)(44,"div",25),e._UZ(45,"mat-icon",26)(46,"mat-icon",26)(47,"mat-icon",26)(48,"mat-icon",26)(49,"mat-icon",26),e.qZA()(),e.TgZ(50,"div",30),e._uU(51),e.qZA()()(),e.TgZ(52,"a",21),e.NdJ("click",function(){return!1}),e.TgZ(53,"div",22)(54,"div",31)(55,"div",25),e._UZ(56,"mat-icon",26)(57,"mat-icon",26)(58,"mat-icon",26)(59,"mat-icon",26)(60,"mat-icon",26),e.qZA()(),e.TgZ(61,"div",30),e._uU(62),e.qZA()()(),e.TgZ(63,"a",21),e.NdJ("click",function(){return!1}),e.TgZ(64,"div",22)(65,"div",32)(66,"div",25),e._UZ(67,"mat-icon",26)(68,"mat-icon",26)(69,"mat-icon",26)(70,"mat-icon",26)(71,"mat-icon",26),e.qZA()(),e.TgZ(72,"div",30),e._uU(73),e.qZA()()()()()()()),2&r){const i=e.oxw(2).$implicit,t=e.oxw();e.xp6(7),e.hij("",i("total_reviews")," "),e.xp6(3),e.hij(" ",t.reviewCount," "),e.xp6(2),e.Q6J("svgIcon",t.review>=1?"mat_outline:star":"mat_outline:star_border"),e.xp6(1),e.Q6J("svgIcon",t.review>=2?"mat_outline:star":"mat_outline:star_border"),e.xp6(1),e.Q6J("svgIcon",t.review>=3?"mat_outline:star":"mat_outline:star_border"),e.xp6(1),e.Q6J("svgIcon",t.review>=4?"mat_outline:star":"mat_outline:star_border"),e.xp6(1),e.Q6J("svgIcon",t.review>=5?"mat_outline:star":"mat_outline:star_border"),e.xp6(4),e.hij("",i("promotions_sent")," "),e.xp6(3),e.hij(" ",t.countSent?t.countSent:0," "),e.xp6(2),e.hij(" ",i("views"),":\xa0"),e.xp6(2),e.Oqu(t.countRead?t.countRead:0),e.xp6(7),e.Q6J("svgIcon",t.reviewVibe>=1?"mat_outline:star":"mat_outline:star_border"),e.xp6(1),e.Q6J("svgIcon",t.reviewVibe>=2?"mat_outline:star":"mat_outline:star_border"),e.xp6(1),e.Q6J("svgIcon",t.reviewVibe>=3?"mat_outline:star":"mat_outline:star_border"),e.xp6(1),e.Q6J("svgIcon",t.reviewVibe>=4?"mat_outline:star":"mat_outline:star_border"),e.xp6(1),e.Q6J("svgIcon",t.reviewVibe>=5?"mat_outline:star":"mat_outline:star_border"),e.xp6(2),e.hij("",i("vibe_review")," "),e.xp6(5),e.Q6J("svgIcon",t.reviewQuality>=1?"mat_outline:star":"mat_outline:star_border"),e.xp6(1),e.Q6J("svgIcon",t.reviewQuality>=2?"mat_outline:star":"mat_outline:star_border"),e.xp6(1),e.Q6J("svgIcon",t.reviewQuality>=3?"mat_outline:star":"mat_outline:star_border"),e.xp6(1),e.Q6J("svgIcon",t.reviewQuality>=4?"mat_outline:star":"mat_outline:star_border"),e.xp6(1),e.Q6J("svgIcon",t.reviewQuality>=5?"mat_outline:star":"mat_outline:star_border"),e.xp6(2),e.hij("",i("quality_review")," "),e.xp6(5),e.Q6J("svgIcon",t.reviewPrice>=1?"mat_outline:star":"mat_outline:star_border"),e.xp6(1),e.Q6J("svgIcon",t.reviewPrice>=2?"mat_outline:star":"mat_outline:star_border"),e.xp6(1),e.Q6J("svgIcon",t.reviewPrice>=3?"mat_outline:star":"mat_outline:star_border"),e.xp6(1),e.Q6J("svgIcon",t.reviewPrice>=4?"mat_outline:star":"mat_outline:star_border"),e.xp6(1),e.Q6J("svgIcon",t.reviewPrice>=5?"mat_outline:star":"mat_outline:star_border"),e.xp6(2),e.hij("",i("price_review")," "),e.xp6(5),e.Q6J("svgIcon",t.reviewChildFriendly>=1?"mat_outline:star":"mat_outline:star_border"),e.xp6(1),e.Q6J("svgIcon",t.reviewChildFriendly>=2?"mat_outline:star":"mat_outline:star_border"),e.xp6(1),e.Q6J("svgIcon",t.reviewChildFriendly>=3?"mat_outline:star":"mat_outline:star_border"),e.xp6(1),e.Q6J("svgIcon",t.reviewChildFriendly>=4?"mat_outline:star":"mat_outline:star_border"),e.xp6(1),e.Q6J("svgIcon",t.reviewChildFriendly>=5?"mat_outline:star":"mat_outline:star_border"),e.xp6(2),e.hij(" ",i("child_friendly_review")," ")}}function F(r,n){if(1&r&&(e.TgZ(0,"div",2),e.YNc(1,y,6,4,"fuse-alert",3),e.YNc(2,U,9,2,"div",4),e.YNc(3,A,2,0,"div",5),e.YNc(4,D,74,35,"div",5),e.qZA()),2&r){const i=e.oxw(2);e.xp6(1),e.Q6J("ngIf",i.trial),e.xp6(1),e.Q6J("ngIf",!i.isReseller),e.xp6(1),e.Q6J("ngIf",i.isReseller),e.xp6(1),e.Q6J("ngIf",!i.isReseller)}}function R(r,n){if(1&r&&(e.ynx(0),e.YNc(1,F,5,4,"div",1),e.BQk()),2&r){const i=e.oxw();e.xp6(1),e.Q6J("ngIf",i.user)}}let Y=(()=>{class r{constructor(i,t,c,V,P,B,E,L,M,q){this._activatedRoute=i,this.dialog=t,this._userService=c,this.fuseSplashScreenService=V,this.eventEmitterService=P,this.router=B,this.variableService=E,this.sharedService=L,this.apiService=M,this._router=q,this.timestamp=0,this.imagesFolder=x.N.api+"/Images/",this.review=3,this.reviewVibe=1,this.reviewQuality=2,this.reviewPrice=3,this.reviewChildFriendly=5,this.reviewCount=24,this.countSent=50,this.countRead=45,this.isReseller=!1,this.trial=!1,this.daysLeft="0",this.timestamp=(new Date).getTime(),this.fuseSplashScreenService.show(),this._userService.get().subscribe(m=>{if(this.user=m,this.isReseller=(0,_.upperCase)(this.user.userTypeId)==(0,_.upperCase)("463af20d-e093-4ca0-9ac1-23909de39f9c"),this.eventEmitterService.onChangeUser(m),this.user){var d=((new Date).getTime()-new Date(this.user.ts).getTime())/864e5;console.log(d),l.i.parse(this.user.statusId).toString()!==l.i.parse("8225b68c-0691-4cb7-aff2-5efe9866f434").toString()&&d>14&&this.router.navigateByUrl("/subscription"),l.i.parse(this.user.statusId).toString()!==l.i.parse("8225b68c-0691-4cb7-aff2-5efe9866f434").toString()&&d<=14&&(this.trial=!0,this.daysLeft=(14-d).toFixed(0)),this.apiService.getDashboard(this.user.id).subscribe(a=>{this.review=a.review,this.reviewVibe=a.reviewVibe,this.reviewQuality=a.reviewQuality,this.reviewPrice=a.reviewPrice,this.reviewChildFriendly=a.reviewChildFriendly,this.reviewCount=a.reviewCount,this.countSent=a.countSent,this.countRead=a.countRead,this.fuseSplashScreenService.hide(),this.eventEmitterService.onChangePage("dashboard")})}else localStorage.removeItem("AT"),localStorage.removeItem("RT"),localStorage.removeItem("ID"),this.router.navigateByUrl("/sign-in")},m=>{localStorage.removeItem("AT"),localStorage.removeItem("RT"),localStorage.removeItem("ID");const v=this._activatedRoute.snapshot.queryParamMap.get("redirectURL")||"/home";this._router.navigateByUrl(v)})}subscribe(){this.apiService.submitSubscription(this.user.id).subscribe(i=>{const t=new g.vA;t.data={title:"Email Sent",body:"A subscription link has been sent to <b>"+this.user.email+"</b>"},t.autoFocus=!0,t.disableClose=!0,t.hasBackdrop=!0,t.ariaLabel="fffff",t.width="100vw",t.maxWidth="800px",t.panelClass="full-screen-modal",this.dialog.open(p.x,t)})}ngAfterViewInit(){}menuClicked(i){this._router.navigate([i])}}return r.\u0275fac=function(i){return new(i||r)(e.Y36(s.gz),e.Y36(g.uw),e.Y36(h.K),e.Y36(f.j),e.Y36(b.Y),e.Y36(s.F0),e.Y36(w.S),e.Y36(Z.F),e.Y36(T.s),e.Y36(s.F0))},r.\u0275cmp=e.Xpm({type:r,selectors:[["dashboard"]],decls:1,vars:0,consts:[[4,"transloco"],["class","flex flex-col flex-auto min-w-0 pt-0 pb-12",4,"ngIf"],[1,"flex","flex-col","flex-auto","min-w-0","pt-0","pb-12"],["class","mb-8",3,"type","appearance",4,"ngIf"],["class","bg-card","style","background-color:unset!important",4,"ngIf"],["class","grid ml-8 mr-8",4,"ngIf"],[1,"mb-8",3,"type","appearance"],["fuseAlertTitle",""],["mat-flat-button","","type","button",1,"mt-4",3,"color","click"],[1,"bg-card",2,"background-color","unset!important"],[1,"flex","flex-col","w-full","max-w-screen-xl","mx-auto","px-6","sm:px-8"],[1,"flex","flex-col","sm:flex-row","flex-auto","sm:items-center","min-w-0","my-2","sm:my-2"],[1,"flex","flex-auto","items-center","min-w-0"],[1,"flex-0","w-16","h-16","rounded-full","overflow-hidden"],["onerror","this.src='assets/images/no-image.jpg';this.onerror='';",1,"w-full","h-full","object-cover",3,"src"],[1,"flex","flex-col","min-w-0","ml-4"],[1,"text-2xl","md:text-5xl","font-semibold","tracking-tight","leading-7","md:leading-snug","truncate",2,"color","#FFF"],[1,"grid","ml-8","mr-8"],[1,"flex-auto","-mt-px","pt-4","sm:pt-6"],[1,"w-full","max-w-screen-xl","mx-auto"],[1,"grid","grid-cols-1","sm:grid-cols-2","md:grid-cols-2","gap-6","w-full","min-w-0"],["href","",1,"flex","flex-col","flex-auto","p-6","bg-card","shadow","rounded-2xl","overflow-hidden",3,"click"],[1,"flex","flex-col","items-center","mt-2"],[1,"text-4xl","font-bold","text-red-600","dark:text-red-500"],[1,"text-7xl","sm:text-8xl","font-bold","tracking-tight","leading-none","text-red-500"],[1,"flex","items-center"],[1,"text-rose-500","icon-size-10",3,"svgIcon"],[1,"text-4xl","font-medium","text-red-600","dark:text-red-500"],[1,"grid","grid-cols-1","sm:grid-cols-2","md:grid-cols-4","gap-6","w-full","min-w-0"],[1,"text-7xl","sm:text-8xl","font-bold","tracking-tight","leading-none","text-blue-500"],[1,"text-3xl","font-medium","text-red-600","dark:text-red-500"],[1,"text-7xl","sm:text-8xl","font-bold","tracking-tight","leading-none","text-amber-500"],[1,"text-7xl","sm:text-8xl","font-bold","tracking-tight","leading-none","text-green-500"]],template:function(i,t){1&i&&e.YNc(0,R,2,1,"ng-container",0)},dependencies:[I.O5,C.lW,Q.Hw,S.W,J.KI],encapsulation:2}),r})();var j=o(5524);const k=[{path:"",component:Y}];let N=(()=>{class r{}return r.\u0275fac=function(i){return new(i||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({imports:[s.Bz.forChild(k),j.m]}),r})()}}]);