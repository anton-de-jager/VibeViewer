"use strict";(self.webpackChunkvibeViewer=self.webpackChunkvibeViewer||[]).push([[592],{3951:(y,h,i)=>{i.d(h,{A:()=>_});const _=(0,i(7423).fo)("Browser",{web:()=>i.e(874).then(i.bind(i,6874)).then(t=>new t.BrowserWeb)})},1050:(y,h,i)=>{i.d(h,{S:()=>D});var p=i(5861),_=i(8407),f=i(9753),P=i(5938),m=i(4006),d=i(6090),x=i(7423),o=i(4650),C=i(6895),M=i(4859),v=i(9549),l=i(4144),u=i(430);function e(g,b){if(1&g&&(o.TgZ(0,"mat-error"),o._uU(1),o.qZA()),2&g){const n=o.oxw().$implicit;o.xp6(1),o.hij(" ",n("address_required")," ")}}function r(g,b){if(1&g){const n=o.EpF();o.ynx(0),o.TgZ(1,"h1",1),o._uU(2),o.qZA(),o.TgZ(3,"div",2)(4,"div",3)(5,"div",4),o._UZ(6,"div",5),o.qZA()(),o.TgZ(7,"form",6,7)(9,"mat-form-field",8)(10,"mat-label"),o._uU(11),o.qZA(),o._UZ(12,"input",9),o.YNc(13,e,2,1,"mat-error",10),o.qZA()()(),o.TgZ(14,"div",11),o._UZ(15,"span",12),o.TgZ(16,"button",13),o.NdJ("click",function(){o.CHM(n);const c=o.oxw();return o.KtG(c.current())}),o._uU(17),o.qZA(),o.TgZ(18,"button",13),o.NdJ("click",function(){o.CHM(n);const c=o.oxw();return o.KtG(c.cancel())}),o._uU(19),o.qZA(),o.TgZ(20,"button",14),o.NdJ("click",function(){o.CHM(n);const c=o.oxw();return o.KtG(c.submit())}),o._uU(21),o.qZA()(),o.BQk()}if(2&g){const n=b.$implicit,a=o.oxw();o.xp6(2),o.Oqu(n("select_address")),o.xp6(5),o.Q6J("formGroup",a.addressForm),o.xp6(4),o.Oqu(n("address_to_display")),o.xp6(1),o.Q6J("formControlName","address"),o.xp6(1),o.Q6J("ngIf",a.addressForm.get("address").hasError("required")),o.xp6(4),o.Oqu(n("current")),o.xp6(2),o.Oqu(n("cancel")),o.xp6(2),o.Oqu(n("submit"))}}const w="assets/images/leaflet/marker-icon-2x.png",E="assets/images/leaflet/marker-shadow.png",A=(_.icon({iconRetinaUrl:w,iconUrl:"assets/images/leaflet/location_green.png",shadowUrl:E,iconSize:[23,33],iconAnchor:[16,33],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[33,33]}),_.icon({iconRetinaUrl:w,iconUrl:"assets/images/leaflet/truck_green.png",shadowUrl:E,iconSize:[33,33],iconAnchor:[16,33],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[33,33]}),_.icon({iconRetinaUrl:w,iconUrl:"assets/images/leaflet/location_red.png",shadowUrl:E,iconSize:[23,32],iconAnchor:[12,32],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[32,32]}),new f.Zm);let D=(()=>{class g{constructor(n,a,c,O){this.data=n,this.dialogRef=a,this._formBuilder=c,this.zone=O,this.location={lat:28.1045642,lon:-26.3296247,label:""},this.address="",n&&(this.location.lat=n.lat,this.location.lon=n.lon,this.location.label=n.label,this.address=n.address),_.Icon.Default.imagePath="assets/images/leaflet/"}ngOnInit(){this.addressForm=this._formBuilder.group({address:[this.address,m.kI.required]})}ngAfterViewInit(){this.initMap(this.location.lat,this.location.lon),this.initAutocomplete()}initMap(n,a){this.map=_.map("map",{center:[n,a],zoom:14}),_.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{maxZoom:18,minZoom:3,attribution:'&copy; <a href="http://www.openstreetmap.org/copyright">OpenStreetMap</a>'}).addTo(this.map);let c=_.marker(new _.LatLng(n,a),{draggable:!0});c.addTo(this.map),c.on("drag",this.markerMove,this),this.map.addControl((0,f.C1)({provider:A,showMarker:!0,showPopup:!1,marker:{icon:new _.Icon.Default,draggable:!0},popupFormat:({result:I})=>I.label,resultFormat:({result:O})=>O.label,maxMarkers:1,retainZoomLevel:!1,animateZoom:!0,autoClose:!1,searchLabel:this.data.label,keepResult:!1,updateMap:!0}))}markerMove(n){var c=n.target.getLatLng();this.location.lat=c.lat,this.location.lon=c.lng}initAutocomplete(){}current(){var n=this;return(0,p.Z)(function*(){n.map.remove(),("web"===x.dV.getPlatform()||"granted"===(yield d.b.checkPermissions()).location||"granted"===(yield d.b.requestPermissions()).location)&&d.b.getCurrentPosition().then(a=>{console.log(a),n.location.lat=a.coords.latitude,n.location.lon=a.coords.longitude,n.initMap(a.coords.latitude,a.coords.longitude),n.initAutocomplete()})})()}requestPermissions(){return(0,p.Z)(function*(){const n=yield d.b.requestPermissions();console.log("Perm request result: ",n)})()}getCurrentCoordinate(){var n=this;return(0,p.Z)(function*(){x.dV.isPluginAvailable("Geolocation")?"web"!==x.dV.getPlatform()&&"granted"!==(yield d.b.checkPermissions()).location&&"granted"!==(yield d.b.requestPermissions()).location||d.b.getCurrentPosition().then(a=>{n.coordinate={latitude:a.coords.latitude,longitude:a.coords.longitude,accuracy:a.coords.accuracy},console.log(n.coordinate)}).catch(a=>{console.error(a)}):console.log("Plugin geolocation not available")})()}watchPosition(){try{this.watchId=d.b.watchPosition({},(n,a)=>{console.log("Watch",n),this.zone.run(()=>{this.watchCoordinate={latitude:n.coords.latitude,longitude:n.coords.longitude},console.log(this.watchCoordinate)})})}catch(n){console.error(n)}}clearWatch(){null!=this.watchId&&d.b.clearWatch({id:this.watchId})}cancel(){this.dialogRef.close(null)}submit(){this.dialogRef.close({location:this.location,address:this.addressForm.value.address})}}return g.\u0275fac=function(n){return new(n||g)(o.Y36(P.WI),o.Y36(P.so),o.Y36(m.QS),o.Y36(o.R0b))},g.\u0275cmp=o.Xpm({type:g,selectors:[["app-address"]],decls:1,vars:0,consts:[[4,"transloco"],["mat-dialog-title","",1,"accent","dialog-title","bg-primary","text-on-primary","text-secondary",2,"margin-bottom","0px !important"],["mat-dialog-content","",1,"dialog-content"],[1,"map-container"],[1,"map-frame"],["id","map",1,"map-item"],[1,"mt-8",3,"formGroup"],["addressNgForm","ngForm"],[1,"w-full"],["id","name","matInput","",3,"formControlName"],[4,"ngIf"],["mat-dialog-actions","","align","end",1,"dialog-footer"],[2,"flex","1 1 auto"],["mat-raised-button","","color","default",3,"click"],["mat-raised-button","","color","primary",3,"click"]],template:function(n,a){1&n&&o.YNc(0,r,22,8,"ng-container",0)},dependencies:[C.O5,m._Y,m.Fj,m.JJ,m.JL,m.sg,m.u,M.lW,v.TO,v.KE,v.hX,l.Nt,u.KI],styles:[".map-container[_ngcontent-%COMP%]{position:relative;top:0;left:0;right:0;bottom:0;height:50vh;min-height:200px}.map-frame[_ngcontent-%COMP%], #map[_ngcontent-%COMP%]{height:100%}.map-item[_ngcontent-%COMP%]{z-index:1;border-radius:12px}#map[_ngcontent-%COMP%]{height:100%}html[_ngcontent-%COMP%], body[_ngcontent-%COMP%]{height:100%;margin:0;padding:0}#description[_ngcontent-%COMP%]{font-family:Roboto;font-size:15px;font-weight:300}#infowindow-content[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-weight:700}#infowindow-content[_ngcontent-%COMP%]{display:none}#map[_ngcontent-%COMP%]   #infowindow-content[_ngcontent-%COMP%]{display:inline}.pac-card[_ngcontent-%COMP%]{background-color:#fff;border:0;border-radius:2px;box-shadow:0 1px 4px -1px #0000004d;margin:10px;font:400 18px Roboto,Arial,sans-serif;overflow:hidden;font-family:Roboto;padding:0}#pac-container[_ngcontent-%COMP%]{padding-bottom:12px;margin-right:12px}.pac-controls[_ngcontent-%COMP%]{display:inline-block;padding:5px 11px}.pac-controls[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-family:Roboto;font-size:13px;font-weight:300}#pac-input[_ngcontent-%COMP%]{background-color:#fff;font-family:Roboto;font-size:15px;font-weight:300;margin-left:12px;padding:0 11px 0 13px;text-overflow:ellipsis;width:400px}#pac-input[_ngcontent-%COMP%]:focus{border-color:#4d90fe}#title[_ngcontent-%COMP%]{color:#fff;background-color:#4d90fe;font-size:25px;font-weight:500;padding:6px 12px}#target[_ngcontent-%COMP%]{width:345px}"]}),g})()},908:(y,h,i)=>{i.d(h,{Z:()=>v});var p=i(5938),_=i(2340),t=i(4650),f=i(6895),P=i(4859),m=i(7392),d=i(430);function x(l,u){1&l&&t.GkF(0)}function o(l,u){1&l&&t.GkF(0)}function C(l,u){if(1&l&&(t.ynx(0),t.TgZ(1,"li",12)(2,"div",13),t.YNc(3,x,1,0,"ng-container",14),t.TgZ(4,"div",15)(5,"table",16)(6,"tr")(7,"td",17),t._UZ(8,"img",18),t.qZA()(),t.TgZ(9,"tr")(10,"td"),t._uU(11),t.qZA(),t.TgZ(12,"td")(13,"div",19),t._UZ(14,"mat-icon",20)(15,"mat-icon",20)(16,"mat-icon",20)(17,"mat-icon",20)(18,"mat-icon",20),t.qZA()()(),t.TgZ(19,"tr")(20,"td"),t._uU(21),t.qZA(),t.TgZ(22,"td")(23,"div",19),t._UZ(24,"mat-icon",20)(25,"mat-icon",20)(26,"mat-icon",20)(27,"mat-icon",20)(28,"mat-icon",20),t.qZA()()(),t.TgZ(29,"tr")(30,"td"),t._uU(31),t.qZA(),t.TgZ(32,"td")(33,"div",19),t._UZ(34,"mat-icon",20)(35,"mat-icon",20)(36,"mat-icon",20)(37,"mat-icon",20)(38,"mat-icon",20),t.qZA()()(),t.TgZ(39,"tr")(40,"td"),t._uU(41),t.qZA(),t.TgZ(42,"td")(43,"div",19),t._UZ(44,"mat-icon",20)(45,"mat-icon",20)(46,"mat-icon",20)(47,"mat-icon",20)(48,"mat-icon",20),t.qZA()()()(),t.YNc(49,o,1,0,"ng-container",14),t.TgZ(50,"div",21)(51,"div"),t._uU(52),t.ALo(53,"date"),t.qZA()()()()(),t.BQk()),2&l){const e=u.$implicit,r=t.oxw().$implicit;t.xp6(3),t.Q6J("ngIf",e.urlImage),t.xp6(5),t.Q6J("src",e.urlImage,t.LSH)("alt","Review image"),t.xp6(3),t.Oqu(r("vibe")),t.xp6(3),t.Q6J("svgIcon",e.reviewVibe>=1?"mat_outline:star":"mat_outline:star_border"),t.xp6(1),t.Q6J("svgIcon",e.reviewVibe>=2?"mat_outline:star":"mat_outline:star_border"),t.xp6(1),t.Q6J("svgIcon",e.reviewVibe>=3?"mat_outline:star":"mat_outline:star_border"),t.xp6(1),t.Q6J("svgIcon",e.reviewVibe>=4?"mat_outline:star":"mat_outline:star_border"),t.xp6(1),t.Q6J("svgIcon",e.reviewVibe>=5?"mat_outline:star":"mat_outline:star_border"),t.xp6(3),t.Oqu(r("quality")),t.xp6(3),t.Q6J("svgIcon",e.reviewQuality>=1?"mat_outline:star":"mat_outline:star_border"),t.xp6(1),t.Q6J("svgIcon",e.reviewQuality>=2?"mat_outline:star":"mat_outline:star_border"),t.xp6(1),t.Q6J("svgIcon",e.reviewQuality>=3?"mat_outline:star":"mat_outline:star_border"),t.xp6(1),t.Q6J("svgIcon",e.reviewQuality>=4?"mat_outline:star":"mat_outline:star_border"),t.xp6(1),t.Q6J("svgIcon",e.reviewQuality>=5?"mat_outline:star":"mat_outline:star_border"),t.xp6(3),t.Oqu(r("price")),t.xp6(3),t.Q6J("svgIcon",e.reviewPrice>=1?"mat_outline:star":"mat_outline:star_border"),t.xp6(1),t.Q6J("svgIcon",e.reviewPrice>=2?"mat_outline:star":"mat_outline:star_border"),t.xp6(1),t.Q6J("svgIcon",e.reviewPrice>=3?"mat_outline:star":"mat_outline:star_border"),t.xp6(1),t.Q6J("svgIcon",e.reviewPrice>=4?"mat_outline:star":"mat_outline:star_border"),t.xp6(1),t.Q6J("svgIcon",e.reviewPrice>=5?"mat_outline:star":"mat_outline:star_border"),t.xp6(3),t.Oqu(r("child_friendly")),t.xp6(3),t.Q6J("svgIcon",e.reviewChildFriendly>=1?"mat_outline:star":"mat_outline:star_border"),t.xp6(1),t.Q6J("svgIcon",e.reviewChildFriendly>=2?"mat_outline:star":"mat_outline:star_border"),t.xp6(1),t.Q6J("svgIcon",e.reviewChildFriendly>=3?"mat_outline:star":"mat_outline:star_border"),t.xp6(1),t.Q6J("svgIcon",e.reviewChildFriendly>=4?"mat_outline:star":"mat_outline:star_border"),t.xp6(1),t.Q6J("svgIcon",e.reviewChildFriendly>=5?"mat_outline:star":"mat_outline:star_border"),t.xp6(1),t.Q6J("ngIf",e.reviewVibe),t.xp6(3),t.hij(" ",t.xi3(53,29,e.reviewDate,"MMM dd, h:mm a")," ")}}function M(l,u){if(1&l){const e=t.EpF();t.ynx(0),t.TgZ(1,"h1",1)(2,"div",2)(3,"div",3),t._uU(4),t.qZA(),t.TgZ(5,"div",4)(6,"button",5),t.NdJ("click",function(){t.CHM(e);const s=t.oxw();return t.KtG(s.cancel())}),t._UZ(7,"mat-icon",6),t.qZA()()()(),t.TgZ(8,"div",7)(9,"ol"),t.YNc(10,C,54,32,"ng-container",8),t.qZA()(),t.TgZ(11,"div",9),t._UZ(12,"span",10),t.TgZ(13,"button",11),t.NdJ("click",function(){t.CHM(e);const s=t.oxw();return t.KtG(s.cancel())}),t._uU(14),t.qZA()(),t.BQk()}if(2&l){const e=u.$implicit,r=t.oxw();t.xp6(4),t.Oqu(r.item.name),t.xp6(3),t.Q6J("svgIcon","mat_outline:close"),t.xp6(3),t.Q6J("ngForOf",r.list)("ngForTrackBy",r.trackByFn),t.xp6(4),t.Oqu(e("done"))}}let v=(()=>{class l{constructor(e,r){this.dialogRef=e,this.data=r,this.apiUrl=_.N.api,console.log(r),this.item=r.item,this.list=r.list.map(s=>({urlImage:s,reviewDate:new Date(s.substring(s.indexOf("_")+1).split("_")[0]/1),reviewVibe:s.substring(s.indexOf("_")+1).split("_")[1]/1,reviewQuality:s.substring(s.indexOf("_")+1).split("_")[2]/1,reviewPrice:s.substring(s.indexOf("_")+1).split("_")[3]/1,reviewChildFriendly:s.substring(s.indexOf("_")+1).split("_")[4].split(".")[0]/1}))}trackByFn(e,r){return r.id||e}ngOnInit(){}cancel(){this.dialogRef.close(null)}}return l.\u0275fac=function(e){return new(e||l)(t.Y36(p.so),t.Y36(p.WI))},l.\u0275cmp=t.Xpm({type:l,selectors:[["app-history"]],decls:1,vars:0,consts:[[4,"transloco"],["mat-dialog-title","",1,"accent","dialog-title","bg-primary","text-on-primary","text-secondary",2,"margin-bottom","0px !important"],[1,"flex","items-center","justify-between"],[1,"text-2xl","font-semibold","leading-tight"],[1,"-mr-3"],["mat-icon-button","",3,"click"],[1,"icon-size-5",3,"svgIcon"],["mat-dialog-content","",1,"content-dialog-scroll"],[4,"ngFor","ngForOf","ngForTrackBy"],["mat-dialog-actions","","align","end",1,"dialog-footer"],[2,"flex","1 1 auto"],["mat-raised-button","","color","primary",3,"click"],[1,"relative","flex","py-7"],[1,"relative","flex","flex-auto"],[4,"ngIf"],[1,"flex","flex-col","flex-auto","items-start"],[2,"width","100%"],["rowspan","5"],["onerror","this.src='assets/images/no-image.jpg';this.onerror='';",1,"shrink-0","mat-icon-large","mr-4","rounded-full","overflow-hidden","object-cover","object-center",3,"src","alt"],[1,"flex","items-center"],[1,"text-rose-500","icon-size-5",3,"svgIcon"],[1,"flex","flex-col","sm:flex-row","sm:items-center","mt-2","sm:mt-1","sm:space-x-2","text-md","leading-5"]],template:function(e,r){1&e&&t.YNc(0,M,15,5,"ng-container",0)},dependencies:[f.sg,f.O5,P.lW,m.Hw,d.KI,f.uU],styles:[".image[_ngcontent-%COMP%]{position:relative;width:100%;height:75vh;border-radius:12px;object-fit:cover}.content-dialog[_ngcontent-%COMP%]{padding-top:12px}.content-dialog-scroll[_ngcontent-%COMP%]{max-height:70vh;overflow:auto;margin-right:-12px;margin-bottom:-12px!important}"]}),l})()}}]);